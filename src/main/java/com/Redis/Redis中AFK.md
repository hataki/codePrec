# Redis中的AFK原理

redis集群方式



redis单机存在的问题：

1. 单点故障
2. 容量有限
3. 压力过大

AFK原理：

X ：全量，镜像

Y ：业务，功能

Z ：优先级，逻辑拆分

通过AFK一变多，数据一致性！

所有节点阻塞阻塞数据全部一致

* 同步方式阻塞方式

强一致性

破坏了整体的高可用性

* 通过异步方式

  会丢失一部分数据的一致性

---

client -----  redis ----同步阻塞 -----redis   强一致性，低可用

client -----  redis ----异步 -----redis    弱一致性，数据丢失

client -----  redis ----同步阻塞 -----  kafka 可靠，群集，快速响应 -----redis -------client    保证了数据的最终一致性  